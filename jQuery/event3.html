<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="js/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function(){
	$('table, td').css('border', '2px solid blue');
	$('td:last').attr('colspan','2');
	//등록버튼 칸 가운데 정렬
	$('input:submit').css({
		width: '50px',
		height: '30px',
		textAlign: 'center',
		marginLeft: '88px'
	});
	$('input:submit').on('click',function(ev){
		var chk1 = false;
		var chk2 = false;
		
		var name = $('#name').val();
		for(var i = 0;i < userlist.length;i++){
			if(name == userlist[i]){
				alert('중복된 사용자이름입니다.');
				chk1 = true;
				break;
			}
		}
		
		var subject = $('#subject').val();
		for(var i = 0;i < subjectlist.length;i++){
			if(subject != subjectlist[i]){
				chk2 = true;
			}else{
				chk2 = false;
				break;
			}
		}
		if(chk2 == true){
			alert('해당 과정은 운영하지 않습니다.');
		}
		if( chk1 == true || chk2 == true ){
			ev.preventDefault();
		}
		
	});
	
	
	/* 1. 사용자명 입력하면 기존 등록 사용자 중복검사
	   2. 과정명 입력하면 subjectlist에 존재해야 한다.
	   3. 
	   	 3-1. 1+2 모두 만족하면 submit 기본 동작 진행
	   	 3-2. 1 만족하지 못하면 alert('중복된 사용자이름입니다.') submit 기본동작 막는다.
	   	 3-3. 2 만족하지 못하면 alert('해당 과정은 운영하지 않습니다.') submit 기본동작 막는다.
	
	*/
	var userlist=['김회원','박학생','이회원','최회원'];
	var subjectlist = ['ai', '빅데이터', '풀스택', '안드로이드', '웹'];
});
</script>
</head>
<body>
<form action='userinform.jsp'>
<table>
	<tr><td>사용자명</td><td><input type=text name='name' id='name'></td></tr>
	<tr><td>과정명</td><td><input type=text name='subject' id='subject'></td></tr>
	<tr><td><input type=submit value='등록'></td></tr>
</table>
</form>
</body>
</html>